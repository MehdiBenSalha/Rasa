version: "3.1"

slots:
  recipe:
    type: text
    mappings:
      - type: from_llm
  ingredients:
    type: text
    mappings:
      - type: from_llm
  dietary_restrictions:
    type: text
    mappings:
      - type: from_llm
  cooking_choice:
    type: text
    mappings:
      - type: from_llm
  wants_instructions:
    type: bool
    mappings:
      - type: from_llm
  recipe_valid:
    type: bool
    mappings:
      - type: custom
  suggested_recipes:
    type: any
    mappings:
      - type: custom

responses:
  utter_ask_recipe:
    - text: "Type the number (1-5) of the recipe you want to cook."

  utter_ask_recipe_name:
    - text: "What do you want to cook?"

  utter_ask_cooking_choice:
    - text: "How would you like to search for recipes? (type 'recipe' or 'ingredients')"
      buttons:
        - title: "By Recipe Name"
          payload: "recipe"
        - title: "By Ingredients"
          payload: "ingredients"

  utter_recipe_complete:
    - text: "Enjoy eating the {recipe}!"

  utter_ask_ingredients:
    - text: "Which ingredients do you have? Please list them separated by commas."

  utter_ask_dietary_restrictions:
    - text: "Do you have any dietary restrictions? (e.g. vegetarian, vegan, halal, gluten-free). If none, say no."

  utter_ask_wants_instructions:
    - text: "Would you like me to give you the instructions on how to prepare this recipe?"

  utter_help_refused:
    - text: "Ok, if you need any more help feel free to ask me!"

  utter_ask_another_recipe:
    - text: "Would you like to cook another recipe? (say yes or no)"

  utter_recipe_not_found:
    - text: "I couldn't find a matching recipe. Try another recipe name or search by ingredients."

  utter_anything_else:
    - text: "Would you like to cook something else?"

  utter_free_chitchat_response:
    - text: "placeholder"
      metadata:
        rephrase: True
        rephrase_prompt: |
          The following is a conversation with an AI assistant built with Rasa.
          The assistant can help the user transfer money.
          The assistant is helpful, creative, clever, and very friendly.
          The user is making small talk, and the assistant should respond, keeping things light.
          Context / previous conversation with the user:
          {{history}}
          {{current_input}}
          Suggested AI Response:
  utter_ask_continue_conversation:
    - text: "Would you like to cook something else? (yes/no)"

  utter_can_do_something_else:
    - text: "Tell me what you'd like to cook, or type 'ingredients' to search by ingredients."

  utter_ask_rephrase:
    - text: "Sorry, I didn't get that. Please reply with yes or no."

actions:
  - action_get_ingredients
  - action_get_instructions
  - action_utter_recipe_complete
  - action_suggest_recipes