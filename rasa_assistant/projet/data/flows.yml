flows:
  return_based_on_recipe:
    description: Help the user cook the recipe.
    steps:
      - collect: dietary_restrictions
        description: dietary restrictions
      - collect: recipe
        description: the name of the recipe
      - action : action_get_ingredients
      - collect: wants_instructions
        description: ask if they want instructions
        next:
          - if: slots.wants_instructions
            then:
              - action: action_get_instructions
              - action: action_utter_recipe_complete
                next : END
          - else:
            - action: utter_help_refused
              next : END
  
  recipes_from_ingredients:
    description: Suggest recipes based on ingredients and return to recipe flow.
    steps:
    - collect: dietary_restrictions
      description: dietary restrictions
    - collect: ingredients
      description: ingredients provided by the user
    - action: action_suggest_recipes
    - collect: recipe
      description: recipe chosen by the user
    - action : action_get_ingredients
    - collect: wants_instructions
      description: ask if they want instructions
      next:
        - if: slots.wants_instructions
          then:
            - action: action_get_instructions
            - action: action_utter_recipe_complete
              next : END
        - else:
          - action: utter_help_refused
            next : END
    